language: python

python:
  - 3.5

addons:
  apt:
    packages:
      - pyqt5-dev-tools

git:
  submodules: false

before_install:
  - >-
    openssl aes-256-cbc
    -K $encrypted_0b023fb27a48_key
    -iv $encrypted_0b023fb27a48_iv
    -in github_deploy_key.enc
    -out github_deploy_key
    -d
  - chmod 600 github_deploy_key
  - eval $(ssh-agent -s)
  - ssh-add github_deploy_key
  - git submodule update --init --recursive

install:
  - pip install -r requirements.txt

script:
  - scripts/ci/deploy.sh

env:
  global:
    - OSGEO_USERNAME=3nids
    # Inject OSGEO_PASSWORD matching the OSGEO_USERNAME
    # Generate with the following command for proper special characters support
    #     travis encrypt OSGEO_PASSWORD=\''Your super secret password!'\'
    - secure: "JTcQtn4nvMevskR2A6ebIOnxNVpui/Rum6o4Gz6W4QiLM6WEK8QhLufB/v34j3l0kLrlXF1gbuEv/Jgq85FhOW+a5sAz3zr23yEph924oUW4b5EawFDkx3etFXaKtOLKLAbFo2eWA2lXS2c5vtbnmQ+aeTUDulw9OOZKv/HypvpZsWSa7MnSXrNX+b9pYl2Axpc1oyhvci7q0xapsZOk8O1m15JCR0Oh5KZPlUn8fSBA2ARn70e/SKjVaCtQuuFDL6Pe+0CB2bAkQDnBY9ajvd5DIBCDMwq+8UxpiA5bj9qV4zXo0MyUWb3sgiU54tzgGgsiDbGJ8/fcrHEcJhu/nhAeVGOtDKF4+WmbtASiuIJqGOE8Qy7WDXHntLck31E0zFV85ScW5dcGvCzBDT7RKTdFG07p9zQGTKX785FGEjBkopIEvPs60kORog6MKLMFvLTNsjrvQnie2Fn8NYQ+vKYunqgbbBkCEvX7OXGrk87NrX6YtxwJQ5J3bPdh7TxL83Jfe5O+Clq5if8M7YDKDnP+QP5t+eF+WNDHaIAFIr0jTcop2d9acOBKSabbC8eTAXayu8V3JywqDS4jJdnd1ifQs9/vO8Qi8qsw+pBJBoHJ2PGfwbSgIhyS5YZBKA31Rxw8RFJpvs6HIDLeQyzdnh6zLAP3SQGPWHY1al9JUhQ="
    # TRANSIFEX_API_TOKEN <- personal access token for github to deploy on "releases"
    #Â https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/
    - secure: "ih8owW8lnOnMI8BjuzUkpgvtcwEA8rdr2AEoEfPxBUPNmrbn0szQseh5d+gMeMoNwTusBm5cVxY2Vn5Fip/NGj3DgVwt1rx0QCTgN9mZsdx4VM7Xt8EOSn8EjJfN+wNS7OIsN9QIf43I718llgqnQPfNa6+13zUdvxPvFISneRWaS2G6+Awn2P5S5EAjd8nenwdEKSvu+L0okMZzDNo6kjUhJpTEm/1xGLUZ7r2W7XhBMJM0NFujQy1ajjkSjYNqCS+I8ILFjR51N4BNFcUcsw8k/IF5BKe+xisoO5syPts9mFYxXZT9fGfefbBQ+1go7WoUBmhwmKGn2kVxR4FNuaiHtUQxGfEuwwCZjf5R+vRNZEOaWkU0xmSGSt96n/a18YNmG99VOX3j+Nx6cLaLWHp7MlSv6ApJRJxuuFLuEG73W77WepMmylThyvTANfYERW5jrh0pzy6KTzGd2y73DKhznQXuiX1I0a6/A99g0514eY7DAa+nv3cX2DtlwJQgmlHFydAhbSwBs8SOkNaHH3hkvJ9Z2FePJCUimwtpWNWBfLXbcbFd++lGs6dmTCgMnNSlOIY568F61/nZS0OkaG+BkbO9sXThDHTatxgRFKFNEO7FnJ4e+WKX177q1OH1zcoXK+0Z0H8sOuNPuOpKCrXBzYArBDIWa9UIA0wumVA="
